{"version":3,"sources":["components/common/Person/Person.js","components/common/ChangeHeader/changeHeader.module.css","components/common/ChangeHeader/Items/items.module.css","components/common/Person/person.module.css","utilities/validators.js","components/common/FormsControl/FormsControl.js","components/common/FormsControl/formControl.module.css","components/common/ChangeHeader/Items/Items.js","components/common/ChangeHeader/ChangeHeader.js","components/hoc/withAuthRedirect.js","components/Dialogs/dialogs.module.css","components/Dialogs/Message/message.module.css","components/Dialogs/Message/Message.js","components/Dialogs/Dialogs.js","components/Dialogs/DialogsContainer.js"],"names":["Person","direction","name","body","img","className","style","person","personAvatar","src","blockDirection","personName","personLastContact","module","exports","required","value","console","log","maxLength","length","TextArea","input","meta","rest","flagError","touched","error","styles","formControl","Input","ErrorFormAuth","props","errorData","errorMessage","Items","dataLinks","items","map","dataLink","item","key","IdRandom","to","activeClassName","active","text","count","countOfFriends","ChangeHeader","right","header","search","placeholder","button","width","height","viewBox","fill","xmlns","d","withAuthRedirect","Component","RedirectComponent","this","isAuth","React","connect","state","auth","Message","time","me","message","fromMe","maxLength100","FormReduxMessage","reduxForm","form","newMessage","onSubmit","handleSubmit","Field","validate","component","type","textarea","Dialogs","dialogsData","dataMessages","add_message","path","chats","persons","id","lastText","windowDialog","data","NewMessageBody","compose","messagesPage","settingsOfLinks","massages","newMessageText"],"mappings":"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","file":"static/js/5.df0b5c05.chunk.js","sourcesContent":["import React from 'react';\r\nimport style from './person.module.css';\r\n\r\nconst Person = ({direction, name, body, img}) => (\r\n    <div className={style.person}>\r\n        <div className={`${style.personAvatar} ${direction ? style.direction : ''}`}>\r\n            <img src={img}/>\r\n        </div>\r\n        <div className={`${direction ? style.blockDirection : ''}`}>\r\n            <div className={style.personName}>{name}</div>\r\n            <div className={style.personLastContact}>{body}</div>\r\n        </div>\r\n    </div>\r\n)\r\nexport default Person;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"changeHeader_header__1uyvZ\",\"button\":\"changeHeader_button__2Xl-7\",\"input\":\"changeHeader_input__2orsh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"items_items__10S13\",\"item\":\"items_item__HZXwu\",\"countOfFriends\":\"items_countOfFriends__1xp4e\",\"active\":\"items_active__2iIzh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"person\":\"person_person__3kqpH\",\"personAvatar\":\"person_personAvatar__1ohAa\",\"direction\":\"person_direction__3LfhU\",\"blockDirection\":\"person_blockDirection__a2dPs\",\"personLastContact\":\"person_personLastContact__1Rxpj\",\"personName\":\"person_personName__2sP5P\"};","export const required = (value) => {\r\n    console.log(value);\r\n    if(value){\r\n        return undefined\r\n    }\r\n    return 'Field is required'\r\n}\r\nexport const maxLength = (maxLength) => (value) => {\r\n    if(value && value.length > maxLength){\r\n        return `Max length is ${maxLength}`\r\n    }\r\n    return undefined\r\n}","import React from \"react\";\r\nimport styles from './formControl.module.css'\r\n\r\nexport const TextArea =({input, meta, ...rest}) => {\r\n    const flagError = meta.touched && meta.error\r\n    return (\r\n        <div className={`${styles.formControl} ${flagError && styles.error}`}>\r\n            <textarea {...input} {...rest}/>\r\n            {flagError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\nexport const Input =({input, meta, ...rest}) => {\r\n    const flagError = meta.touched && meta.error\r\n    console.log(meta.error);\r\n    return (\r\n        <div className={`${styles.formControl} ${flagError && styles.error}`}>\r\n            <input {...input} {...rest}/>\r\n            {flagError && <div>{meta.error}</div>}\r\n        </div>\r\n    )\r\n}\r\nexport const ErrorFormAuth = (props) => {\r\n    return (\r\n        <div className={styles.errorData}>\r\n            <span>{props.errorMessage}</span>\r\n        </div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formControl_formControl__1H8zP\",\"error\":\"formControl_error__ePzui\",\"errorData\":\"formControl_errorData__3RfHI\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport style from './items.module.css';\r\nimport IdRandom from \"../../../../utilities/IdRandom\";//need change this\r\n\r\n\r\n\r\nconst Items = ({dataLinks}) => (\r\n    <ul className={style.items}>\r\n        {dataLinks.map(dataLink => (\r\n            <li className={style.item} key={IdRandom()}>\r\n            <NavLink to={dataLink.to} activeClassName={style.active}>\r\n                {dataLink.text}\r\n                {dataLink.count ? <span className={style.countOfFriends}>{dataLink.count}</span> : <span></span>}\r\n            </NavLink>\r\n        </li>\r\n        ))}\r\n    </ul>\r\n);\r\nexport default Items;","import React from 'react';\r\nimport style from './changeHeader.module.css';\r\nimport Items from './Items/Items';\r\n\r\n\r\nconst ChangeHeader = ({dataLinks, right=false}) => (\r\n    <div className={style.header}>\r\n        <nav>\r\n            <Items dataLinks={dataLinks}/>\r\n        </nav>\r\n        {right === 'FORM' ?\r\n            <div className={style.search}>\r\n                <input placeholder=\"Поиск\" className={style.input}></input>\r\n                <button className={style.button}>\r\n                    <svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M13.2125 12.3516L9.15469 8.29375C9.78438 7.47969 10.125 6.48438 10.125 5.4375C10.125 4.18438 9.63594 3.00937 8.75156 2.12344C7.86719 1.2375 6.68906 0.75 5.4375 0.75C4.18594 0.75 3.00781 1.23906 2.12344 2.12344C1.2375 3.00781 0.75 4.18438 0.75 5.4375C0.75 6.68906 1.23906 7.86719 2.12344 8.75156C3.00781 9.6375 4.18438 10.125 5.4375 10.125C6.48438 10.125 7.47813 9.78438 8.29219 9.15625L12.35 13.2125C12.3619 13.2244 12.376 13.2338 12.3916 13.2403C12.4071 13.2467 12.4238 13.2501 12.4406 13.2501C12.4575 13.2501 12.4741 13.2467 12.4897 13.2403C12.5052 13.2338 12.5194 13.2244 12.5312 13.2125L13.2125 12.5328C13.2244 12.5209 13.2338 12.5068 13.2403 12.4912C13.2467 12.4757 13.2501 12.459 13.2501 12.4422C13.2501 12.4254 13.2467 12.4087 13.2403 12.3931C13.2338 12.3776 13.2244 12.3635 13.2125 12.3516ZM7.9125 7.9125C7.25 8.57344 6.37187 8.9375 5.4375 8.9375C4.50312 8.9375 3.625 8.57344 2.9625 7.9125C2.30156 7.25 1.9375 6.37187 1.9375 5.4375C1.9375 4.50312 2.30156 3.62344 2.9625 2.9625C3.625 2.30156 4.50312 1.9375 5.4375 1.9375C6.37187 1.9375 7.25156 2.3 7.9125 2.9625C8.57344 3.625 8.9375 4.50312 8.9375 5.4375C8.9375 6.37187 8.57344 7.25156 7.9125 7.9125Z\" fill=\"grey\"/>\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n        : right}\r\n    </div>\r\n);\r\nexport default ChangeHeader;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component{\r\n        \r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let mapStateToProps = (state) => {\r\n        return {\r\n            isAuth:  state.auth.isAuth\r\n        }\r\n    }\r\n\r\n    const AuthContainer = connect(mapStateToProps, {})(RedirectComponent)\r\n\r\n    return AuthContainer\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"dialogs_header__1imLZ\",\"chats\":\"dialogs_chats__115Ll\",\"windowDialog\":\"dialogs_windowDialog__1SjGQ\",\"textFromMe\":\"dialogs_textFromMe__VuANF\",\"textarea\":\"dialogs_textarea__BcVZc\",\"button\":\"dialogs_button__2P9Wl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"personAvatar\":\"message_personAvatar__3Opdy\",\"message\":\"message_message__302hB\",\"fromMe\":\"message_fromMe__kWV81\",\"text\":\"message_text__3qre_\",\"time\":\"message_time__201J9\"};","\r\nimport React from 'react';\r\nimport style from './message.module.css';\r\n\r\n\r\nconst Message = ({text, time, img, me}) => (\r\n    <div className={`${style.message} ${me ? style.fromMe : ''}`}>\r\n        <div className={style.personAvatar}>\r\n            <img src={img}/>\r\n            <div className={style.time}>{time}</div>\r\n        </div>\r\n        <div className={`${style.text} `}>\r\n            {text}\r\n        </div>\r\n    </div>\r\n)\r\n\r\nexport default Message","import React, {useRef} from 'react';\r\nimport style from './dialogs.module.css';\r\nimport Person from '../common/Person/Person';\r\nimport Message from './Message/Message';\r\nimport ChangeHeader from '../common/ChangeHeader/ChangeHeader';\r\nimport {Route} from \"react-router-dom\";\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {maxLength, required} from \"../../utilities/validators\";\r\nimport {TextArea} from \"../common/FormsControl/FormsControl\";\r\n\r\nconst Dialogs = ({dialogsData,\r\n            dataMessages,\r\n            dataLinks,\r\n            add_message,\r\n                     isAuth\r\n}) => {\r\n    const addNewMessage = (data) => {\r\n        console.log(data)\r\n        add_message(data.NewMessageBody)\r\n    }\r\n    return(\r\n    <>\r\n        <ChangeHeader dataLinks={dataLinks} right={'FORM'}/>\r\n        <Route path={dataLinks[0]}></Route>\r\n        <div className={style.chats}>\r\n            <div className={style.persons}>\r\n                {dialogsData.map(item => {\r\n                    return(\r\n                        <Person\r\n                            key={item.id}\r\n                            id={item.id}\r\n                            name={item.name}\r\n                            body={item.lastText}\r\n                            img={item.img}/>\r\n                    )\r\n                })}\r\n            </div>\r\n            <div className={style.windowDialog}>\r\n                {dataMessages.map(item => {\r\n                    return(\r\n                        <Message\r\n                            key={item.id}\r\n                            text={item.text}\r\n                            time={item.time}\r\n                            img={item.img}\r\n                            me={item.me}/>\r\n                    )\r\n                })}\r\n                <FormReduxMessage onSubmit={addNewMessage}\r\n                    // refrashMessages={refrashMessages}\r\n                    // onMessageChange={onMessageChange}\r\n                    // newMessageElement={newMessageElement}\r\n                />\r\n            </div>\r\n        </div>  \r\n    </>\r\n)}\r\nconst maxLength100 = maxLength(100)\r\nconst FormMessage = (props) => {\r\n    return (\r\n        <form className={style.newMessage} onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field\r\n                validate={[required, maxLength100]}\r\n                component={TextArea}\r\n                type={'textarea'}\r\n                name={'NewMessageBody'}\r\n\r\n                className={style.textarea}\r\n                placeholder={'write messages'}/>\r\n            </div>\r\n            <button className={style.button}>Отправить</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst FormReduxMessage = reduxForm({\r\n    form: 'addMessageForm'\r\n})(FormMessage)\r\n\r\nexport default Dialogs;","import {add_message} from '../../redux/dialogsReducer';\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\"; //utilities\r\n\r\nlet mapStateToProps = (state) => {\r\n        return {\r\n                dialogsData: state.messagesPage.dialogsData,\r\n                dataMessages: state.messagesPage.dataMessages,\r\n                dataLinks: state.settingsOfLinks.massages,\r\n                newMessageText: state.messagesPage.newMessageText\r\n        }\r\n}\r\nexport default compose(\r\n    connect(mapStateToProps, {add_message}),\r\n    withAuthRedirect,\r\n)(Dialogs);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//const DialogsContainer = () => {\r\n        // So it was before react-redux\r\n\r\n        // return (<StoreContext.Consumer>\r\n        //     {store => {\r\n        //         const state = store.getState();\r\n        //         const dialogsData = state.messagesPage.dialogsData;\r\n        //         const dataMessages = state.messagesPage.dataMessages;\r\n        //         const dataLinks= state.settingsOfLinks.masseges;\r\n        //         const newMessageText = state.messagesPage.newMessageText\r\n        //         const dispatch = store.dispatch;\r\n        //\r\n        //         const refrashMessages = () => {\r\n        //             dispatch(actionCreatorAddMessage())\r\n        //         }\r\n        //\r\n        //         const onMessageChange = (body) => {\r\n        //             dispatch(actionCreatorRefrashNewMessage(body))\r\n        //         }\r\n        //         return (\r\n        //             <Dialogs\r\n        //                 dialogsData={dialogsData}\r\n        //                 dataMessages={dataMessages}\r\n        //                 dataLinks={dataLinks}\r\n        //                 newMessageText={newMessageText}\r\n        //                 addMessage={refrashMessages}\r\n        //                 actionRefreshNewMessage={onMessageChange}/>\r\n        //         )\r\n        //     }}\r\n        // </StoreContext.Consumer>)\r\n//}"],"sourceRoot":""}